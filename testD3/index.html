<!DOCTYPE html>
<meta charset="utf-8">
<style>
 
.links line {
  stroke-opacity: 0.6;
}
 
.nodes circle {
  stroke: #fff;
  stroke-width: 1.5px;
}
 
</style>
<div id="content"></div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script type="text/javascript" src="graph.js"></script>
<script>
data =  {
	nodes: [
		{"name": "Root", "id":"0", "node_selected":"false"},
		{"name": "Travis", "id": "1", "node_selected": "false"},
		{"name": "Rake", "id": "2", "node_selected": "false"},
		{"name": "Diana", "id": "3", "node_selected": "false"},
		{"name": "Rachel", "id": "4", "node_selected": "false"},
		{"name": "Shawn", "id": "5", "node_selected": "false"}
	],
	links: [
		{"source": "0", "target": "1"},
		{"source": "2", "target": "1"},
		{"source": "0", "target": "3"},
		{"source": "3", "target": "4"},
		{"source": "5", "target": "3"}
	]
};

$(document).ready(function(){
	createGraph(data);
	$("#content svg g.nodes, #content svg text").click(function(e){
		var id = $(e.target).attr("node_id");
		if(id!="0"){
			Object.keys(glob_dataset.nodes).forEach(function (key) {
				if(key == id){
					glob_dataset.nodes[key].node_selected = true;
				}else{
					glob_dataset.nodes[key].node_selected = false;
				}
			});
		}
		tickActions();
	});
});
</script>
