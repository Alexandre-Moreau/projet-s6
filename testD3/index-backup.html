<!DOCTYPE html>
<meta charset="utf-8">
<style>
 
.links line {
  stroke: #999;
  stroke-opacity: 0.6;
}
 
.nodes circle {
  stroke: #fff;
  stroke-width: 1.5px;
}
 
</style>
<div id="content"></div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
dataset =  {
	nodes: [
		{"name": "Travis", "sex": "M"},
		{"name": "Rake", "sex": "M"},
		{"name": "Diana", "sex": "F"},
		{"name": "Rachel", "sex": "F"},
		{"name": "Shawn", "sex": "M"},
		{"name": "Emerald", "sex": "F"}
	],
	links: [
		{"source": "Travis", "target": "Rake"},
		{"source": "Diana", "target": "Rake"},
		{"source": "Diana", "target": "Rachel"},
		{"source": "Rachel", "target": "Rake"},
		{"source": "Rachel", "target": "Shawn"},
		{"source": "Emerald", "target": "Rachel"}
	]
};

width = 300;
height = 600;

//create somewhere to put the force directed graph
var svg = d3.select("#content")
	.append("svg")
	.attr("width", width)
	.attr("height", height);
 
//set up the simulation 
var simulation = d3.forceSimulation().nodes(dataset.nodes);

simulation
	.force("charge_force", d3.forceManyBody().strength(-750))
	.force("center_force", d3.forceCenter(width / 2, height / 2));

//Create the link force 
//We need the id accessor to use named sources and targets 
var link_force =  d3.forceLink(dataset.links)
	.id(function(d) { return d.name; });

link_force.distance(50);

simulation.force("links",link_force)

var link = svg.append("g")
	.attr("class", "links")
	.selectAll("line")
	.data(dataset.links)
	.enter().append("line")
	.attr("stroke-width", 2);

var node = svg.append("g")
	.attr("class", "nodes")
	.selectAll("circle")
	.data(dataset.nodes)
	.enter()
	.append("circle")
	.attr("r", 5)
	.attr("fill", "#202020");

	function tickActions() {
		//update circle positions each tick of the simulation 
		node
			.attr("cx", function(d) { return d.x; })
			.attr("cy", function(d) { return d.y; });

		if(node.attr("cx")>width){
			console.log(node.attr("cx"));
		}

		//update link positions 
		//simply tells one end of the line to follow one node around
		//and the other end of the line to follow the other node around
		link
			.attr("x1", function(d) { return d.source.x; })
			.attr("y1", function(d) { return d.source.y; })
			.attr("x2", function(d) { return d.target.x; })
			.attr("y2", function(d) { return d.target.y; });
	}

	simulation.on("tick", tickActions);
/*
	http://www.puzzlr.org/force-directed-graph-minimal-working-example/
	https://stackoverflow.com/questions/11102795/d3-node-labeling?utm_medium=organic&utm_source=google_rich_qa&utm_campaign=google_rich_qa
*/
</script>
